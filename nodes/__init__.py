"""
ğŸ’• å“å‘€âœ¦MMX èŠ‚ç‚¹è‡ªåŠ¨è£…è½½æœº
æŒ‰æ–‡ä»¶åå‡åºæ‰¹é‡å¯¼å…¥ï¼Œé¿å…æ‰‹åŠ¨ç»´æŠ¤
"""
from __future__ import annotations
import glob
import os
import shutil
import sys

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# æ‰¹é‡å¯¼å…¥ï¼ˆé™é»˜æ¨¡å¼ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class _SilentWriter:
    """ç”¨äºä¸´æ—¶æŠ‘åˆ¶ stdout çš„è™šæ‹Ÿè¾“å‡ºæµ"""
    def write(self, x): pass
    def flush(self): pass

loaded_modules = []
_original_stdout = sys.stdout

for f in sorted(glob.glob(os.path.join(os.path.dirname(__file__), "*.py"))):
    name = os.path.basename(f)[:-3]
    if name == "__init__":
        continue
    try:
        # å¯¼å…¥æœŸé—´æŠ‘åˆ¶ stdoutï¼Œæ‹¦æˆª "âœ… å·²æ³¨å†ŒèŠ‚ç‚¹" ç­‰æ‰“å°
        sys.stdout = _SilentWriter()
        __import__(__package__ + "." + name, fromlist=[""])
        loaded_modules.append(name)
    except Exception as e:
        # é”™è¯¯æ—¶æ¢å¤ stdout ä»¥ä¾¿æ˜¾ç¤ºæŠ¥é”™ä¿¡æ¯
        sys.stdout = _original_stdout
        print(f"[å“å‘€âœ¦MMX] åŠ è½½ {name} å¤±è´¥: {e}")
    finally:
        sys.stdout = _original_stdout

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ç¯å¢ƒæ£€æŸ¥ + åä¸½ LOGO
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def _print_logo():
    logo = r"""
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                  â•‘
â•‘     âœ¦  *  âœ¦                                                      â•‘
â•‘       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•‘
â•‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ•”â•  â•šâ–ˆâ–ˆâ–ˆâ•”â• â•‘
â•‘      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â•‘
â•‘      â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—â•‘
â•‘      â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•   â•šâ•â•  â•šâ•â•     â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•‘
â•‘              ğŸ’• Aiya MMX å¥½å¯çˆ±å‘€ ğŸ’•                             â•‘
â•‘                                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"""
    print(logo)
    
    # ä»…æ˜¾ç¤ºæ¨¡å—æ•°é‡ï¼Œä¸ç½—åˆ—è¯¦ç»†åˆ—è¡¨
    if loaded_modules:
        print(f"   ğŸ“¦ å·²è£…è½½èŠ‚ç‚¹æ¨¡å—: {len(loaded_modules)} ä¸ª")
    
    # FFmpeg çŠ¶æ€æ£€æµ‹
    if shutil.which("ffmpeg"):
        print("   ğŸ”Š FFmpeg å·²å°±ç»ª")
    else:
        print("   ğŸ”‡ FFmpeg æœªæ£€æµ‹åˆ°ï¼Œå°†å›é€€åˆ° OpenCV")
        print("   ğŸ’¡ å®‰è£…æç¤º: https://www.gyan.dev/ffmpeg/builds/ ")
    
    print()  # åº•éƒ¨ç©ºè¡Œï¼Œä¿æŒé—´è·

_print_logo()
